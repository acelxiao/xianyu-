# 闲鱼数据管理系统 - 部署说明

## 系统要求

### 基础环境
- **操作系统**：Windows 10/11 或 macOS 或 Linux
- **Python版本**：Python 3.7 或更高版本
- **网络环境**：需要互联网连接（用于爬取闲鱼数据）
- **内存要求**：至少 4GB RAM
- **磁盘空间**：至少 1GB 可用空间

### 依赖软件
- Python 3.7+
- pip (Python包管理器)

## 快速部署（推荐）

### 1. 下载项目文件
将整个项目文件夹复制到目标电脑

### 2. 一键启动
双击运行 `deploy_start.py` 文件，或者在命令行中执行：
```bash
python deploy_start.py
```

该脚本会自动完成：
- ✅ 检查Python版本
- ✅ 安装所有依赖包
- ✅ 创建必要的目录
- ✅ 初始化数据库
- ✅ 创建默认账户
- ✅ 启动服务器

### 3. 访问系统
启动成功后，在浏览器中访问：
- **系统首页**：http://127.0.0.1:5001
- **登录页面**：http://127.0.0.1:5001/login

## 默认账户

系统会自动创建以下账户：


### 体验账户
- **用户名**：trial
- **密码**：trial123
- **权限**：3天体验期限
- **特点**：首次登录后开始3天倒计时，到期后自动禁用

## 手动部署（高级用户）

如果自动部署脚本无法运行，可以手动执行以下步骤：

### 1. 安装依赖
```bash
pip install -r requirements.txt
```

### 2. 创建目录
```bash
mkdir instance logs uploads
```

### 3. 初始化数据库
```bash
python -c "from web_app import app, db; app.app_context(); db.create_all()"
```

### 4. 启动应用
```bash
python web_app.py
```

## 功能特性

### 核心功能
- 🐟 **闲鱼数据爬取**：自动爬取闲鱼商品信息
- 📊 **数据管理**：商品数据的增删改查
- 🔍 **智能搜索**：关键词搜索和筛选
- 📱 **响应式设计**：支持手机和电脑访问
- ⏰ **体验账户管理**：时间限制和自动过期

### 管理功能
- 👥 **用户管理**：创建和管理用户账户
- ⚙️ **系统设置**：配置系统参数
- 🔄 **数据更新**：手动和自动数据更新
- 📈 **统计报表**：数据统计和分析

### 安全特性
- 🔐 **用户认证**：安全的登录系统
- ⏰ **时间控制**：体验账户时间限制
- 🚫 **权限管理**：基于角色的访问控制
- 🛡️ **数据保护**：数据库安全存储

## 端口说明

- **默认端口**：5001
- **访问地址**：http://127.0.0.1:5001
- **局域网访问**：http://[本机IP]:5001

## 常见问题

### Q: 启动时提示端口被占用？
A: 修改 `web_app.py` 文件中的端口号，或者关闭占用端口的程序。

### Q: 无法访问系统？
A: 检查防火墙设置，确保端口5001未被阻止。

### Q: 体验账户无法登录？
A: 检查体验账户是否已过期，请联系管理员续费。

### Q: 数据爬取失败？
A: 检查网络连接和Cookie配置，确保可以访问闲鱼网站。

### Q: 忘记管理员密码？
A: 运行 `change_admin_password.py` 脚本重置密码。

## 技术支持

如遇到问题，请检查：
1. Python版本是否符合要求
2. 所有依赖包是否正确安装
3. 网络连接是否正常
4. 防火墙设置是否正确

## 更新说明

系统会自动检查更新，如需手动更新：
1. 下载最新版本的项目文件
2. 备份现有数据库（instance/xianyu_data.db）
3. 替换项目文件
4. 重新启动系统

---

**注意**：本系统仅用于学习和研究目的，请遵守相关法律法规和网站使用条款。